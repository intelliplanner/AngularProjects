/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/** @type {?} */
export var METADATA_KEY_SERIALIZABLE = "SERIALIZABLE";
/**
 * @record
 */
export function SerializableProperty() { }
if (false) {
    /** @type {?} */
    SerializableProperty.prototype.key;
    /** @type {?} */
    SerializableProperty.prototype.name;
}
/**
 * @param {?=} name
 * @return {?}
 */
export function serializable(name) {
    return (/**
     * @param {?} target
     * @param {?} key
     * @return {?}
     */
    function (target, key) {
        Reflect.defineMetadata(METADATA_KEY_SERIALIZABLE, { key: key, name: name || key }, target, key);
    });
}
/**
 * @param {?} target
 * @return {?}
 */
export function getSerializables(target) {
    /** @type {?} */
    var serializables = [];
    for (var key in target) {
        /** @type {?} */
        var metadata = Reflect.getMetadata(METADATA_KEY_SERIALIZABLE, target, key);
        if (metadata) {
            serializables.push(metadata);
        }
    }
    return serializables;
}
/**
 * @param {?} target
 * @param {?=} prototype
 * @return {?}
 */
export function serialize(target, prototype) {
    return getSerializables(prototype || target).reduce((/**
     * @param {?} prev
     * @param {?} prop
     * @return {?}
     */
    function (prev, prop) {
        prev[prop.name] = target[prop.key];
        return prev;
    }), {});
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXphYmxlLmRlY29yYXRvci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuZy1keW5hbWljLWZvcm1zL2NvcmUvIiwic291cmNlcyI6WyJsaWIvZGVjb3JhdG9yL3NlcmlhbGl6YWJsZS5kZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQSxNQUFNLEtBQU8seUJBQXlCLEdBQUcsY0FBYzs7OztBQUV2RCwwQ0FJQzs7O0lBRkcsbUNBQVk7O0lBQ1osb0NBQWE7Ozs7OztBQUdqQixNQUFNLFVBQVUsWUFBWSxDQUFDLElBQWE7SUFFdEM7Ozs7O0lBQU8sVUFBVSxNQUFNLEVBQUUsR0FBRztRQUN4QixPQUFPLENBQUMsY0FBYyxDQUFDLHlCQUF5QixFQUFFLEVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxJQUFJLEdBQUcsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNsRyxDQUFDLEVBQUM7QUFDTixDQUFDOzs7OztBQUVELE1BQU0sVUFBVSxnQkFBZ0IsQ0FBQyxNQUFXOztRQUVwQyxhQUFhLEdBQUcsRUFBRTtJQUV0QixLQUFLLElBQUksR0FBRyxJQUFJLE1BQU0sRUFBRTs7WUFFaEIsUUFBUSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMseUJBQXlCLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQztRQUUxRSxJQUFJLFFBQVEsRUFBRTtZQUNWLGFBQWEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDaEM7S0FDSjtJQUVELE9BQU8sYUFBYSxDQUFDO0FBQ3pCLENBQUM7Ozs7OztBQUVELE1BQU0sVUFBVSxTQUFTLENBQUMsTUFBVyxFQUFFLFNBQWU7SUFFbEQsT0FBTyxnQkFBZ0IsQ0FBQyxTQUFTLElBQUksTUFBTSxDQUFDLENBQUMsTUFBTTs7Ozs7SUFBQyxVQUFDLElBQVMsRUFBRSxJQUEwQjtRQUV0RixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFbkMsT0FBTyxJQUFJLENBQUM7SUFFaEIsQ0FBQyxHQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ1gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgbGV0IFJlZmxlY3Q6IGFueTtcblxuZXhwb3J0IGNvbnN0IE1FVEFEQVRBX0tFWV9TRVJJQUxJWkFCTEUgPSBcIlNFUklBTElaQUJMRVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbGl6YWJsZVByb3BlcnR5IHtcblxuICAgIGtleTogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6YWJsZShuYW1lPzogc3RyaW5nKTogKHRhcmdldDogYW55LCBrZXk6IHN0cmluZykgPT4gdm9pZCB7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XG4gICAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoTUVUQURBVEFfS0VZX1NFUklBTElaQUJMRSwge2tleToga2V5LCBuYW1lOiBuYW1lIHx8IGtleX0sIHRhcmdldCwga2V5KTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VyaWFsaXphYmxlcyh0YXJnZXQ6IGFueSk6IFNlcmlhbGl6YWJsZVByb3BlcnR5W10ge1xuXG4gICAgbGV0IHNlcmlhbGl6YWJsZXMgPSBbXTtcblxuICAgIGZvciAobGV0IGtleSBpbiB0YXJnZXQpIHtcblxuICAgICAgICBsZXQgbWV0YWRhdGEgPSBSZWZsZWN0LmdldE1ldGFkYXRhKE1FVEFEQVRBX0tFWV9TRVJJQUxJWkFCTEUsIHRhcmdldCwga2V5KTtcblxuICAgICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHNlcmlhbGl6YWJsZXMucHVzaChtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VyaWFsaXphYmxlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZSh0YXJnZXQ6IGFueSwgcHJvdG90eXBlPzogYW55KTogT2JqZWN0IHtcblxuICAgIHJldHVybiBnZXRTZXJpYWxpemFibGVzKHByb3RvdHlwZSB8fCB0YXJnZXQpLnJlZHVjZSgocHJldjogYW55LCBwcm9wOiBTZXJpYWxpemFibGVQcm9wZXJ0eSkgPT4ge1xuXG4gICAgICAgIHByZXZbcHJvcC5uYW1lXSA9IHRhcmdldFtwcm9wLmtleV07XG5cbiAgICAgICAgcmV0dXJuIHByZXY7XG5cbiAgICB9LCB7fSk7XG59Il19