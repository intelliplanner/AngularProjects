/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/** @type {?} */
export const METADATA_KEY_SERIALIZABLE = "SERIALIZABLE";
/**
 * @record
 */
export function SerializableProperty() { }
if (false) {
    /** @type {?} */
    SerializableProperty.prototype.key;
    /** @type {?} */
    SerializableProperty.prototype.name;
}
/**
 * @param {?=} name
 * @return {?}
 */
export function serializable(name) {
    return (/**
     * @param {?} target
     * @param {?} key
     * @return {?}
     */
    function (target, key) {
        Reflect.defineMetadata(METADATA_KEY_SERIALIZABLE, { key: key, name: name || key }, target, key);
    });
}
/**
 * @param {?} target
 * @return {?}
 */
export function getSerializables(target) {
    /** @type {?} */
    let serializables = [];
    for (let key in target) {
        /** @type {?} */
        let metadata = Reflect.getMetadata(METADATA_KEY_SERIALIZABLE, target, key);
        if (metadata) {
            serializables.push(metadata);
        }
    }
    return serializables;
}
/**
 * @param {?} target
 * @param {?=} prototype
 * @return {?}
 */
export function serialize(target, prototype) {
    return getSerializables(prototype || target).reduce((/**
     * @param {?} prev
     * @param {?} prop
     * @return {?}
     */
    (prev, prop) => {
        prev[prop.name] = target[prop.key];
        return prev;
    }), {});
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXphYmxlLmRlY29yYXRvci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuZy1keW5hbWljLWZvcm1zL2NvcmUvIiwic291cmNlcyI6WyJsaWIvZGVjb3JhdG9yL3NlcmlhbGl6YWJsZS5kZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQSxNQUFNLE9BQU8seUJBQXlCLEdBQUcsY0FBYzs7OztBQUV2RCwwQ0FJQzs7O0lBRkcsbUNBQVk7O0lBQ1osb0NBQWE7Ozs7OztBQUdqQixNQUFNLFVBQVUsWUFBWSxDQUFDLElBQWE7SUFFdEM7Ozs7O0lBQU8sVUFBVSxNQUFNLEVBQUUsR0FBRztRQUN4QixPQUFPLENBQUMsY0FBYyxDQUFDLHlCQUF5QixFQUFFLEVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxJQUFJLEdBQUcsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNsRyxDQUFDLEVBQUM7QUFDTixDQUFDOzs7OztBQUVELE1BQU0sVUFBVSxnQkFBZ0IsQ0FBQyxNQUFXOztRQUVwQyxhQUFhLEdBQUcsRUFBRTtJQUV0QixLQUFLLElBQUksR0FBRyxJQUFJLE1BQU0sRUFBRTs7WUFFaEIsUUFBUSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMseUJBQXlCLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQztRQUUxRSxJQUFJLFFBQVEsRUFBRTtZQUNWLGFBQWEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDaEM7S0FDSjtJQUVELE9BQU8sYUFBYSxDQUFDO0FBQ3pCLENBQUM7Ozs7OztBQUVELE1BQU0sVUFBVSxTQUFTLENBQUMsTUFBVyxFQUFFLFNBQWU7SUFFbEQsT0FBTyxnQkFBZ0IsQ0FBQyxTQUFTLElBQUksTUFBTSxDQUFDLENBQUMsTUFBTTs7Ozs7SUFBQyxDQUFDLElBQVMsRUFBRSxJQUEwQixFQUFFLEVBQUU7UUFFMUYsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRW5DLE9BQU8sSUFBSSxDQUFDO0lBRWhCLENBQUMsR0FBRSxFQUFFLENBQUMsQ0FBQztBQUNYLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJkZWNsYXJlIGxldCBSZWZsZWN0OiBhbnk7XG5cbmV4cG9ydCBjb25zdCBNRVRBREFUQV9LRVlfU0VSSUFMSVpBQkxFID0gXCJTRVJJQUxJWkFCTEVcIjtcblxuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemFibGVQcm9wZXJ0eSB7XG5cbiAgICBrZXk6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemFibGUobmFtZT86IHN0cmluZyk6ICh0YXJnZXQ6IGFueSwga2V5OiBzdHJpbmcpID0+IHZvaWQge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKE1FVEFEQVRBX0tFWV9TRVJJQUxJWkFCTEUsIHtrZXk6IGtleSwgbmFtZTogbmFtZSB8fCBrZXl9LCB0YXJnZXQsIGtleSk7XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcmlhbGl6YWJsZXModGFyZ2V0OiBhbnkpOiBTZXJpYWxpemFibGVQcm9wZXJ0eVtdIHtcblxuICAgIGxldCBzZXJpYWxpemFibGVzID0gW107XG5cbiAgICBmb3IgKGxldCBrZXkgaW4gdGFyZ2V0KSB7XG5cbiAgICAgICAgbGV0IG1ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YShNRVRBREFUQV9LRVlfU0VSSUFMSVpBQkxFLCB0YXJnZXQsIGtleSk7XG5cbiAgICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICBzZXJpYWxpemFibGVzLnB1c2gobWV0YWRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlcmlhbGl6YWJsZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemUodGFyZ2V0OiBhbnksIHByb3RvdHlwZT86IGFueSk6IE9iamVjdCB7XG5cbiAgICByZXR1cm4gZ2V0U2VyaWFsaXphYmxlcyhwcm90b3R5cGUgfHwgdGFyZ2V0KS5yZWR1Y2UoKHByZXY6IGFueSwgcHJvcDogU2VyaWFsaXphYmxlUHJvcGVydHkpID0+IHtcblxuICAgICAgICBwcmV2W3Byb3AubmFtZV0gPSB0YXJnZXRbcHJvcC5rZXldO1xuXG4gICAgICAgIHJldHVybiBwcmV2O1xuXG4gICAgfSwge30pO1xufSJdfQ==