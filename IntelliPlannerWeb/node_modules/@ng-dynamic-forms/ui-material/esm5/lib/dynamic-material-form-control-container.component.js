/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, ComponentFactoryResolver, ContentChildren, EventEmitter, Input, Output, QueryList, ViewChild, ViewContainerRef } from "@angular/core";
import { FormGroup } from "@angular/forms";
import { DYNAMIC_FORM_CONTROL_TYPE_ARRAY, DYNAMIC_FORM_CONTROL_TYPE_CHECKBOX, DYNAMIC_FORM_CONTROL_TYPE_CHECKBOX_GROUP, DYNAMIC_FORM_CONTROL_TYPE_DATEPICKER, DYNAMIC_FORM_CONTROL_TYPE_GROUP, DYNAMIC_FORM_CONTROL_TYPE_INPUT, DYNAMIC_FORM_CONTROL_TYPE_RADIO_GROUP, DYNAMIC_FORM_CONTROL_TYPE_SELECT, DYNAMIC_FORM_CONTROL_TYPE_SLIDER, DYNAMIC_FORM_CONTROL_TYPE_SWITCH, DYNAMIC_FORM_CONTROL_TYPE_TEXTAREA, DynamicFormArrayGroupModel, DynamicFormControlContainerComponent, DynamicFormControlModel, DynamicFormComponentService, DynamicFormLayoutService, DynamicFormRelationService, DynamicFormValidationService, DynamicTemplateDirective, DynamicFormValueControlModel, } from "@ng-dynamic-forms/core";
import { DynamicMaterialDatePickerComponent } from "./datepicker/dynamic-material-datepicker.component";
import { DynamicMaterialInputComponent } from "./input/dynamic-material-input.component";
import { DynamicMaterialTextAreaComponent } from "./textarea/dynamic-material-textarea.component";
import { DynamicMaterialSlideToggleComponent } from "./slide-toggle/dynamic-material-slide-toggle.component";
import { DynamicMaterialCheckboxComponent } from "./checkbox/dynamic-material-checkbox.component";
import { DynamicMaterialSliderComponent } from "./slider/dynamic-material-slider.component";
import { DynamicMaterialRadioGroupComponent } from "./radio-group/dynamic-material-radio-group.component";
import { DynamicMaterialChipsComponent } from "./chips/dynamic-material-chips.component";
import { DynamicMaterialSelectComponent } from "./select/dynamic-material-select.component";
import { DynamicMaterialFormArrayComponent } from "./form-array/dynamic-material-form-array.component";
import { DynamicMaterialFormGroupComponent } from "./form-group/dynamic-material-form-group.component";
var DynamicMaterialFormControlContainerComponent = /** @class */ (function (_super) {
    tslib_1.__extends(DynamicMaterialFormControlContainerComponent, _super);
    function DynamicMaterialFormControlContainerComponent(componentFactoryResolver, layoutService, validationService, componentService, relationService) {
        var _this = _super.call(this, componentFactoryResolver, layoutService, validationService, componentService, relationService) || this;
        _this.componentFactoryResolver = componentFactoryResolver;
        _this.layoutService = layoutService;
        _this.validationService = validationService;
        _this.componentService = componentService;
        _this.relationService = relationService;
        _this.context = null;
        _this.blur = new EventEmitter();
        _this.change = new EventEmitter();
        _this.focus = new EventEmitter();
        _this.customEvent = new EventEmitter();
        return _this;
    }
    Object.defineProperty(DynamicMaterialFormControlContainerComponent.prototype, "componentType", {
        get: /**
         * @return {?}
         */
        function () {
            return this.componentService.getCustomComponentType(this.model) || materialUIFormControlMapFn(this.model);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DynamicMaterialFormControlContainerComponent.prototype, "hasMatFormField", {
        get: /**
         * @return {?}
         */
        function () {
            var _this = this;
            /** @type {?} */
            var matFormFieldTypes = [DYNAMIC_FORM_CONTROL_TYPE_DATEPICKER, DYNAMIC_FORM_CONTROL_TYPE_INPUT,
                DYNAMIC_FORM_CONTROL_TYPE_SELECT, DYNAMIC_FORM_CONTROL_TYPE_TEXTAREA];
            return matFormFieldTypes.some((/**
             * @param {?} type
             * @return {?}
             */
            function (type) { return _this.model.type === type; })) || (this.model instanceof DynamicFormValueControlModel &&
                this.model.getAdditional("isFormFieldControl"));
        },
        enumerable: true,
        configurable: true
    });
    DynamicMaterialFormControlContainerComponent.decorators = [
        { type: Component, args: [{
                    selector: "dynamic-material-form-control",
                    template: "<div [formGroup]=\"group\" [ngClass]=\"['ng-dynamic-forms-'+model.type.toLowerCase(), getClass('element', 'container'), getClass('grid', 'container')]\">\n\n    <label *ngIf=\"!hasMatFormField && !isCheckbox && hasLabel\"\n           [for]=\"elementId\"\n           [innerHTML]=\"model.label\"\n           [ngClass]=\"[getClass('element', 'label'), getClass('grid', 'label')]\"></label>\n\n    <ng-container *ngTemplateOutlet=\"startTemplate?.templateRef; context: model\"></ng-container>\n\n    <ng-container #componentViewContainer></ng-container>\n\n    <ng-container *ngIf=\"!hasMatFormField\">\n\n        <mat-error *ngFor=\"let message of errorMessages\">{{ message }}</mat-error>\n\n    </ng-container>\n\n    <ng-container *ngTemplateOutlet=\"endTemplate?.templateRef; context: model\"></ng-container>\n\n    <ng-content></ng-content>\n\n</div>\n"
                }] }
    ];
    /** @nocollapse */
    DynamicMaterialFormControlContainerComponent.ctorParameters = function () { return [
        { type: ComponentFactoryResolver },
        { type: DynamicFormLayoutService },
        { type: DynamicFormValidationService },
        { type: DynamicFormComponentService },
        { type: DynamicFormRelationService }
    ]; };
    DynamicMaterialFormControlContainerComponent.propDecorators = {
        contentTemplateList: [{ type: ContentChildren, args: [DynamicTemplateDirective,] }],
        inputTemplateList: [{ type: Input, args: ["templates",] }],
        context: [{ type: Input }],
        group: [{ type: Input }],
        layout: [{ type: Input }],
        model: [{ type: Input }],
        blur: [{ type: Output }],
        change: [{ type: Output }],
        focus: [{ type: Output }],
        customEvent: [{ type: Output, args: ["matEvent",] }],
        componentViewContainerRef: [{ type: ViewChild, args: ["componentViewContainer", { read: ViewContainerRef, static: true },] }]
    };
    return DynamicMaterialFormControlContainerComponent;
}(DynamicFormControlContainerComponent));
export { DynamicMaterialFormControlContainerComponent };
if (false) {
    /** @type {?} */
    DynamicMaterialFormControlContainerComponent.prototype.contentTemplateList;
    /** @type {?} */
    DynamicMaterialFormControlContainerComponent.prototype.inputTemplateList;
    /** @type {?} */
    DynamicMaterialFormControlContainerComponent.prototype.context;
    /** @type {?} */
    DynamicMaterialFormControlContainerComponent.prototype.group;
    /** @type {?} */
    DynamicMaterialFormControlContainerComponent.prototype.layout;
    /** @type {?} */
    DynamicMaterialFormControlContainerComponent.prototype.model;
    /** @type {?} */
    DynamicMaterialFormControlContainerComponent.prototype.blur;
    /** @type {?} */
    DynamicMaterialFormControlContainerComponent.prototype.change;
    /** @type {?} */
    DynamicMaterialFormControlContainerComponent.prototype.focus;
    /** @type {?} */
    DynamicMaterialFormControlContainerComponent.prototype.customEvent;
    /** @type {?} */
    DynamicMaterialFormControlContainerComponent.prototype.componentViewContainerRef;
    /**
     * @type {?}
     * @protected
     */
    DynamicMaterialFormControlContainerComponent.prototype.componentFactoryResolver;
    /**
     * @type {?}
     * @protected
     */
    DynamicMaterialFormControlContainerComponent.prototype.layoutService;
    /**
     * @type {?}
     * @protected
     */
    DynamicMaterialFormControlContainerComponent.prototype.validationService;
    /**
     * @type {?}
     * @protected
     */
    DynamicMaterialFormControlContainerComponent.prototype.componentService;
    /**
     * @type {?}
     * @protected
     */
    DynamicMaterialFormControlContainerComponent.prototype.relationService;
}
/**
 * @param {?} model
 * @return {?}
 */
export function materialUIFormControlMapFn(model) {
    switch (model.type) {
        case DYNAMIC_FORM_CONTROL_TYPE_ARRAY:
            return DynamicMaterialFormArrayComponent;
        case DYNAMIC_FORM_CONTROL_TYPE_CHECKBOX:
            return DynamicMaterialCheckboxComponent;
        case DYNAMIC_FORM_CONTROL_TYPE_CHECKBOX_GROUP:
            return DynamicMaterialFormGroupComponent;
        case DYNAMIC_FORM_CONTROL_TYPE_DATEPICKER:
            return DynamicMaterialDatePickerComponent;
        case DYNAMIC_FORM_CONTROL_TYPE_GROUP:
            return DynamicMaterialFormGroupComponent;
        case DYNAMIC_FORM_CONTROL_TYPE_INPUT:
            /** @type {?} */
            var inputModel = (/** @type {?} */ (model));
            return inputModel.multiple ? DynamicMaterialChipsComponent : DynamicMaterialInputComponent;
        case DYNAMIC_FORM_CONTROL_TYPE_RADIO_GROUP:
            return DynamicMaterialRadioGroupComponent;
        case DYNAMIC_FORM_CONTROL_TYPE_SELECT:
            return DynamicMaterialSelectComponent;
        case DYNAMIC_FORM_CONTROL_TYPE_SLIDER:
            return DynamicMaterialSliderComponent;
        case DYNAMIC_FORM_CONTROL_TYPE_SWITCH:
            return DynamicMaterialSlideToggleComponent;
        case DYNAMIC_FORM_CONTROL_TYPE_TEXTAREA:
            return DynamicMaterialTextAreaComponent;
        default:
            return null;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1pYy1tYXRlcmlhbC1mb3JtLWNvbnRyb2wtY29udGFpbmVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuZy1keW5hbWljLWZvcm1zL3VpLW1hdGVyaWFsLyIsInNvdXJjZXMiOlsibGliL2R5bmFtaWMtbWF0ZXJpYWwtZm9ybS1jb250cm9sLWNvbnRhaW5lci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQ0gsU0FBUyxFQUNULHdCQUF3QixFQUN4QixlQUFlLEVBQ2YsWUFBWSxFQUNaLEtBQUssRUFDTCxNQUFNLEVBQ04sU0FBUyxFQUVULFNBQVMsRUFDVCxnQkFBZ0IsRUFDbkIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzNDLE9BQU8sRUFDSCwrQkFBK0IsRUFDL0Isa0NBQWtDLEVBQ2xDLHdDQUF3QyxFQUN4QyxvQ0FBb0MsRUFDcEMsK0JBQStCLEVBQy9CLCtCQUErQixFQUMvQixxQ0FBcUMsRUFDckMsZ0NBQWdDLEVBQ2hDLGdDQUFnQyxFQUNoQyxnQ0FBZ0MsRUFDaEMsa0NBQWtDLEVBQ2xDLDBCQUEwQixFQUUxQixvQ0FBb0MsRUFFcEMsdUJBQXVCLEVBQ3ZCLDJCQUEyQixFQUUzQix3QkFBd0IsRUFDeEIsMEJBQTBCLEVBQzFCLDRCQUE0QixFQUU1Qix3QkFBd0IsRUFDeEIsNEJBQTRCLEdBQy9CLE1BQU0sd0JBQXdCLENBQUM7QUFDaEMsT0FBTyxFQUFFLGtDQUFrQyxFQUFFLE1BQU0sb0RBQW9ELENBQUM7QUFDeEcsT0FBTyxFQUFFLDZCQUE2QixFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFDekYsT0FBTyxFQUFFLGdDQUFnQyxFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFDbEcsT0FBTyxFQUFFLG1DQUFtQyxFQUFFLE1BQU0sd0RBQXdELENBQUM7QUFDN0csT0FBTyxFQUFFLGdDQUFnQyxFQUFFLE1BQU0s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QUNwRyw4REFBc0c7O0lBQ3RHLDZEQUFxRzs7SUFDckcsbUVBQXFIOztJQUVySCxpRkFBMkg7Ozs7O0lBRS9HLGdGQUE0RDs7Ozs7SUFDNUQscUVBQWlEOzs7OztJQUNqRCx5RUFBeUQ7Ozs7O0lBQ3pELHdFQUF1RDs7Ozs7SUFDdkQsdUVBQXFEOzs7Ozs7QUFxQnJFLE1BQU0sVUFBVSwwQkFBMEIsQ0FBQyxLQUE4QjtJQUVyRSxRQUFRLEtBQUssQ0FBQyxJQUFJLEVBQUU7UUFFaEIsS0FBSywrQkFBK0I7WUFDaEMsT0FBTyxpQ0FBaUMsQ0FBQztRQUU3QyxLQUFLLGtDQUFrQztZQUNuQyxPQUFPLGdDQUFnQyxDQUFDO1FBRTVDLEtBQUssd0NBQXdDO1lBQ3pDLE9BQU8saUNBQWlDLENBQUM7UUFFN0MsS0FBSyxvQ0FBb0M7WUFDckMsT0FBTyxrQ0FBa0MsQ0FBQztRQUU5QyxLQUFLLCtCQUErQjtZQUNoQyxPQUFPLGlDQUFpQyxDQUFDO1FBRTdDLEtBQUssK0JBQStCOztnQkFDNUIsVUFBVSxHQUFHLG1CQUFBLEtBQUssRUFBcUI7WUFFM0MsT0FBTyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDLENBQUMsNkJBQTZCLENBQUM7UUFFL0YsS0FBSyxxQ0FBcUM7WUFDdEMsT0FBTyxrQ0FBa0MsQ0FBQztRQUU5QyxLQUFLLGdDQUFnQztZQUNqQyxPQUFPLDhCQUE4QixDQUFDO1FBRTFDLEtBQUssZ0NBQWdDO1lBQ2pDLE9BQU8sOEJBQThCLENBQUM7UUFFMUMsS0FBSyxnQ0FBZ0M7WUFDakMsT0FBTyxtQ0FBbUMsQ0FBQztRQUUvQyxLQUFLLGtDQUFrQztZQUNuQyxPQUFPLGdDQUFnQyxDQUFDO1FBRTVDO1lBQ0ksT0FBTyxJQUFJLENBQUM7S0FDbkI7QUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxuICAgIENvbnRlbnRDaGlsZHJlbixcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgSW5wdXQsXG4gICAgT3V0cHV0LFxuICAgIFF1ZXJ5TGlzdCxcbiAgICBUeXBlLFxuICAgIFZpZXdDaGlsZCxcbiAgICBWaWV3Q29udGFpbmVyUmVmXG59IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBGb3JtR3JvdXAgfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcbmltcG9ydCB7XG4gICAgRFlOQU1JQ19GT1JNX0NPTlRST0xfVFlQRV9BUlJBWSxcbiAgICBEWU5BTUlDX0ZPUk1fQ09OVFJPTF9UWVBFX0NIRUNLQk9YLFxuICAgIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfQ0hFQ0tCT1hfR1JPVVAsXG4gICAgRFlOQU1JQ19GT1JNX0NPTlRST0xfVFlQRV9EQVRFUElDS0VSLFxuICAgIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfR1JPVVAsXG4gICAgRFlOQU1JQ19GT1JNX0NPTlRST0xfVFlQRV9JTlBVVCxcbiAgICBEWU5BTUlDX0ZPUk1fQ09OVFJPTF9UWVBFX1JBRElPX0dST1VQLFxuICAgIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfU0VMRUNULFxuICAgIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfU0xJREVSLFxuICAgIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfU1dJVENILFxuICAgIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfVEVYVEFSRUEsXG4gICAgRHluYW1pY0Zvcm1BcnJheUdyb3VwTW9kZWwsXG4gICAgRHluYW1pY0Zvcm1Db250cm9sLFxuICAgIER5bmFtaWNGb3JtQ29udHJvbENvbnRhaW5lckNvbXBvbmVudCxcbiAgICBEeW5hbWljRm9ybUNvbnRyb2xFdmVudCxcbiAgICBEeW5hbWljRm9ybUNvbnRyb2xNb2RlbCxcbiAgICBEeW5hbWljRm9ybUNvbXBvbmVudFNlcnZpY2UsXG4gICAgRHluYW1pY0Zvcm1MYXlvdXQsXG4gICAgRHluYW1pY0Zvcm1MYXlvdXRTZXJ2aWNlLFxuICAgIER5bmFtaWNGb3JtUmVsYXRpb25TZXJ2aWNlLFxuICAgIER5bmFtaWNGb3JtVmFsaWRhdGlvblNlcnZpY2UsXG4gICAgRHluYW1pY0lucHV0TW9kZWwsXG4gICAgRHluYW1pY1RlbXBsYXRlRGlyZWN0aXZlLFxuICAgIER5bmFtaWNGb3JtVmFsdWVDb250cm9sTW9kZWwsXG59IGZyb20gXCJAbmctZHluYW1pYy1mb3Jtcy9jb3JlXCI7XG5pbXBvcnQgeyBEeW5hbWljTWF0ZXJpYWxEYXRlUGlja2VyQ29tcG9uZW50IH0gZnJvbSBcIi4vZGF0ZXBpY2tlci9keW5hbWljLW1hdGVyaWFsLWRhdGVwaWNrZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBEeW5hbWljTWF0ZXJpYWxJbnB1dENvbXBvbmVudCB9IGZyb20gXCIuL2lucHV0L2R5bmFtaWMtbWF0ZXJpYWwtaW5wdXQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBEeW5hbWljTWF0ZXJpYWxUZXh0QXJlYUNvbXBvbmVudCB9IGZyb20gXCIuL3RleHRhcmVhL2R5bmFtaWMtbWF0ZXJpYWwtdGV4dGFyZWEuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBEeW5hbWljTWF0ZXJpYWxTbGlkZVRvZ2dsZUNvbXBvbmVudCB9IGZyb20gXCIuL3NsaWRlLXRvZ2dsZS9keW5hbWljLW1hdGVyaWFsLXNsaWRlLXRvZ2dsZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IER5bmFtaWNNYXRlcmlhbENoZWNrYm94Q29tcG9uZW50IH0gZnJvbSBcIi4vY2hlY2tib3gvZHluYW1pYy1tYXRlcmlhbC1jaGVja2JveC5jb21wb25lbnRcIjtcbmltcG9ydCB7IER5bmFtaWNNYXRlcmlhbFNsaWRlckNvbXBvbmVudCB9IGZyb20gXCIuL3NsaWRlci9keW5hbWljLW1hdGVyaWFsLXNsaWRlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IER5bmFtaWNNYXRlcmlhbFJhZGlvR3JvdXBDb21wb25lbnQgfSBmcm9tIFwiLi9yYWRpby1ncm91cC9keW5hbWljLW1hdGVyaWFsLXJhZGlvLWdyb3VwLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgRHluYW1pY01hdGVyaWFsQ2hpcHNDb21wb25lbnQgfSBmcm9tIFwiLi9jaGlwcy9keW5hbWljLW1hdGVyaWFsLWNoaXBzLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgRHluYW1pY01hdGVyaWFsU2VsZWN0Q29tcG9uZW50IH0gZnJvbSBcIi4vc2VsZWN0L2R5bmFtaWMtbWF0ZXJpYWwtc2VsZWN0LmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgRHluYW1pY01hdGVyaWFsRm9ybUFycmF5Q29tcG9uZW50IH0gZnJvbSBcIi4vZm9ybS1hcnJheS9keW5hbWljLW1hdGVyaWFsLWZvcm0tYXJyYXkuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBEeW5hbWljTWF0ZXJpYWxGb3JtR3JvdXBDb21wb25lbnQgfSBmcm9tIFwiLi9mb3JtLWdyb3VwL2R5bmFtaWMtbWF0ZXJpYWwtZm9ybS1ncm91cC5jb21wb25lbnRcIjtcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6IFwiZHluYW1pYy1tYXRlcmlhbC1mb3JtLWNvbnRyb2xcIixcbiAgICB0ZW1wbGF0ZVVybDogXCIuL2R5bmFtaWMtbWF0ZXJpYWwtZm9ybS1jb250cm9sLWNvbnRhaW5lci5jb21wb25lbnQuaHRtbFwiXG59KVxuZXhwb3J0IGNsYXNzIER5bmFtaWNNYXRlcmlhbEZvcm1Db250cm9sQ29udGFpbmVyQ29tcG9uZW50IGV4dGVuZHMgRHluYW1pY0Zvcm1Db250cm9sQ29udGFpbmVyQ29tcG9uZW50IHtcblxuICAgIEBDb250ZW50Q2hpbGRyZW4oRHluYW1pY1RlbXBsYXRlRGlyZWN0aXZlKSBjb250ZW50VGVtcGxhdGVMaXN0OiBRdWVyeUxpc3Q8RHluYW1pY1RlbXBsYXRlRGlyZWN0aXZlPjtcbiAgICBASW5wdXQoXCJ0ZW1wbGF0ZXNcIikgaW5wdXRUZW1wbGF0ZUxpc3Q6IFF1ZXJ5TGlzdDxEeW5hbWljVGVtcGxhdGVEaXJlY3RpdmU+O1xuXG4gICAgQElucHV0KCkgY29udGV4dDogRHluYW1pY0Zvcm1BcnJheUdyb3VwTW9kZWwgfCBudWxsID0gbnVsbDtcbiAgICBASW5wdXQoKSBncm91cDogRm9ybUdyb3VwO1xuICAgIEBJbnB1dCgpIGxheW91dDogRHluYW1pY0Zvcm1MYXlvdXQ7XG4gICAgQElucHV0KCkgbW9kZWw6IER5bmFtaWNGb3JtQ29udHJvbE1vZGVsO1xuXG4gICAgQE91dHB1dCgpIGJsdXI6IEV2ZW50RW1pdHRlcjxEeW5hbWljRm9ybUNvbnRyb2xFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPER5bmFtaWNGb3JtQ29udHJvbEV2ZW50PigpO1xuICAgIEBPdXRwdXQoKSBjaGFuZ2U6IEV2ZW50RW1pdHRlcjxEeW5hbWljRm9ybUNvbnRyb2xFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPER5bmFtaWNGb3JtQ29udHJvbEV2ZW50PigpO1xuICAgIEBPdXRwdXQoKSBmb2N1czogRXZlbnRFbWl0dGVyPER5bmFtaWNGb3JtQ29udHJvbEV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXI8RHluYW1pY0Zvcm1Db250cm9sRXZlbnQ+KCk7XG4gICAgQE91dHB1dChcIm1hdEV2ZW50XCIpIGN1c3RvbUV2ZW50OiBFdmVudEVtaXR0ZXI8RHluYW1pY0Zvcm1Db250cm9sRXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcjxEeW5hbWljRm9ybUNvbnRyb2xFdmVudD4oKTtcblxuICAgIEBWaWV3Q2hpbGQoXCJjb21wb25lbnRWaWV3Q29udGFpbmVyXCIsIHsgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH0pIGNvbXBvbmVudFZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWY7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgY29tcG9uZW50RmFjdG9yeVJlc29sdmVyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIGxheW91dFNlcnZpY2U6IER5bmFtaWNGb3JtTGF5b3V0U2VydmljZSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgdmFsaWRhdGlvblNlcnZpY2U6IER5bmFtaWNGb3JtVmFsaWRhdGlvblNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIGNvbXBvbmVudFNlcnZpY2U6IER5bmFtaWNGb3JtQ29tcG9uZW50U2VydmljZSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgcmVsYXRpb25TZXJ2aWNlOiBEeW5hbWljRm9ybVJlbGF0aW9uU2VydmljZSkge1xuXG4gICAgICAgIHN1cGVyKGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgbGF5b3V0U2VydmljZSwgdmFsaWRhdGlvblNlcnZpY2UsIGNvbXBvbmVudFNlcnZpY2UsIHJlbGF0aW9uU2VydmljZSk7XG4gICAgfVxuXG4gICAgZ2V0IGNvbXBvbmVudFR5cGUoKTogVHlwZTxEeW5hbWljRm9ybUNvbnRyb2w+IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudFNlcnZpY2UuZ2V0Q3VzdG9tQ29tcG9uZW50VHlwZSh0aGlzLm1vZGVsKSB8fCBtYXRlcmlhbFVJRm9ybUNvbnRyb2xNYXBGbih0aGlzLm1vZGVsKTtcbiAgICB9XG5cbiAgICBnZXQgaGFzTWF0Rm9ybUZpZWxkKCk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGxldCBtYXRGb3JtRmllbGRUeXBlcyA9IFtEWU5BTUlDX0ZPUk1fQ09OVFJPTF9UWVBFX0RBVEVQSUNLRVIsIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfSU5QVVQsXG4gICAgICAgICAgICBEWU5BTUlDX0ZPUk1fQ09OVFJPTF9UWVBFX1NFTEVDVCwgRFlOQU1JQ19GT1JNX0NPTlRST0xfVFlQRV9URVhUQVJFQV07XG5cbiAgICAgICAgcmV0dXJuIG1hdEZvcm1GaWVsZFR5cGVzLnNvbWUodHlwZSA9PiB0aGlzLm1vZGVsLnR5cGUgPT09IHR5cGUpIHx8IChcbiAgICAgICAgICAgIHRoaXMubW9kZWwgaW5zdGFuY2VvZiBEeW5hbWljRm9ybVZhbHVlQ29udHJvbE1vZGVsICYmXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmdldEFkZGl0aW9uYWwoXCJpc0Zvcm1GaWVsZENvbnRyb2xcIilcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXRlcmlhbFVJRm9ybUNvbnRyb2xNYXBGbihtb2RlbDogRHluYW1pY0Zvcm1Db250cm9sTW9kZWwpOiBUeXBlPER5bmFtaWNGb3JtQ29udHJvbD4gfCBudWxsIHtcblxuICAgIHN3aXRjaCAobW9kZWwudHlwZSkge1xuXG4gICAgICAgIGNhc2UgRFlOQU1JQ19GT1JNX0NPTlRST0xfVFlQRV9BUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBEeW5hbWljTWF0ZXJpYWxGb3JtQXJyYXlDb21wb25lbnQ7XG5cbiAgICAgICAgY2FzZSBEWU5BTUlDX0ZPUk1fQ09OVFJPTF9UWVBFX0NIRUNLQk9YOlxuICAgICAgICAgICAgcmV0dXJuIER5bmFtaWNNYXRlcmlhbENoZWNrYm94Q29tcG9uZW50O1xuXG4gICAgICAgIGNhc2UgRFlOQU1JQ19GT1JNX0NPTlRST0xfVFlQRV9DSEVDS0JPWF9HUk9VUDpcbiAgICAgICAgICAgIHJldHVybiBEeW5hbWljTWF0ZXJpYWxGb3JtR3JvdXBDb21wb25lbnQ7XG5cbiAgICAgICAgY2FzZSBEWU5BTUlDX0ZPUk1fQ09OVFJPTF9UWVBFX0RBVEVQSUNLRVI6XG4gICAgICAgICAgICByZXR1cm4gRHluYW1pY01hdGVyaWFsRGF0ZVBpY2tlckNvbXBvbmVudDtcblxuICAgICAgICBjYXNlIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfR1JPVVA6XG4gICAgICAgICAgICByZXR1cm4gRHluYW1pY01hdGVyaWFsRm9ybUdyb3VwQ29tcG9uZW50O1xuXG4gICAgICAgIGNhc2UgRFlOQU1JQ19GT1JNX0NPTlRST0xfVFlQRV9JTlBVVDpcbiAgICAgICAgICAgIGxldCBpbnB1dE1vZGVsID0gbW9kZWwgYXMgRHluYW1pY0lucHV0TW9kZWw7XG5cbiAgICAgICAgICAgIHJldHVybiBpbnB1dE1vZGVsLm11bHRpcGxlID8gRHluYW1pY01hdGVyaWFsQ2hpcHNDb21wb25lbnQgOiBEeW5hbWljTWF0ZXJpYWxJbnB1dENvbXBvbmVudDtcblxuICAgICAgICBjYXNlIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfUkFESU9fR1JPVVA6XG4gICAgICAgICAgICByZXR1cm4gRHluYW1pY01hdGVyaWFsUmFkaW9Hcm91cENvbXBvbmVudDtcblxuICAgICAgICBjYXNlIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfU0VMRUNUOlxuICAgICAgICAgICAgcmV0dXJuIER5bmFtaWNNYXRlcmlhbFNlbGVjdENvbXBvbmVudDtcblxuICAgICAgICBjYXNlIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfU0xJREVSOlxuICAgICAgICAgICAgcmV0dXJuIER5bmFtaWNNYXRlcmlhbFNsaWRlckNvbXBvbmVudDtcblxuICAgICAgICBjYXNlIERZTkFNSUNfRk9STV9DT05UUk9MX1RZUEVfU1dJVENIOlxuICAgICAgICAgICAgcmV0dXJuIER5bmFtaWNNYXRlcmlhbFNsaWRlVG9nZ2xlQ29tcG9uZW50O1xuXG4gICAgICAgIGNhc2UgRFlOQU1JQ19GT1JNX0NPTlRST0xfVFlQRV9URVhUQVJFQTpcbiAgICAgICAgICAgIHJldHVybiBEeW5hbWljTWF0ZXJpYWxUZXh0QXJlYUNvbXBvbmVudDtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuIl19