<div class="container-fluid">
    <div class="row bg-gray-200 pl-3 pt-4 pb-3">
        <div class="col-md-8 animated fadeInLeft">

            <app-aboutus></app-aboutus>
        </div>

        <div class="col-md-4">
            <div class="w-100 pl-4 pr-4 pt-4 bg-white border-bottom-primary mt-0 login-box animated fadeInRight card">
                <div class=" example-form">
                    <div class="border-bottom-dark col-md-12  text-center">
                        <h5 class="d-block pb-0 mb-0 ">Welcome!</h5>
                        <span class="d-block pb-1">Enter your Username and Password</span>
                    </div>
                    <form [formGroup]="loginForm">
                        <mat-form-field class="col-md-12 mt-3">
                            <input matInput autocomplete="off" formControlName="username" placeholder="User Id">
                        </mat-form-field>
                        <div class="err-msgs" *ngIf="loginForm.controls['username'].dirty || loginForm.controls['username'].value || loginForm.controls['username'].touched || isFormInvalid">
                            <span *ngIf="loginForm.controls['username'].hasError('required')">Please enter user id</span>
                        </div>
                        <mat-form-field class="col-md-12">
                            <input matInput autocomplete="off" [type]="show ? 'text' : 'password'" formControlName="password" placeholder="Password">
                            <span class="loginshoweyecls">
                                <i (click)="password()" class="fa" style="cursor: pointer;" [ngClass]="{'fa-eye-slash': !show, 'fa-eye': show}" aria-hidden="true"></i>
                            </span>
                        </mat-form-field>
                        <div class="err-msgs" *ngIf="loginForm.controls['password'].dirty || loginForm.controls['password'].value || loginForm.controls['password'].touched || isFormInvalid ">
                            <span *ngIf="loginForm.controls['password'].hasError('required')">Please enter password.
                            </span>
                        </div>

                        <!-- start captcha code -->
                        <div class="col-md-12">
                            <mat-form-field class="d-block">
                                <input matInput autocomplete="off" maxlength="15" formControlName="captcha" placeholder="Enter Below Verfication Code" class="textTransform"
                                />
                                <!-- <input matInput autocomplete="off" maxlength="15" (paste)="false" (draggable)="false"
                                    (drop)="false" (dragover)="false" formControlName="captcha"
                                    placeholder="Enter Below Verfication Code" class="textTransform" /> -->
                            </mat-form-field>
                            <div class="mt-30">
                                <span class="font-weight-bold pt-2 pb-2 pr-2 pl-2 mr-3">Verfication Code</span>
                                <!-- <span tabindex="0"
                                    class="captcha textTransform col-md-6 captcha-text text-white p-2 text-center ">
                                    <span>{{captchaText}}</span>
                                </span> -->
                                <span tabindex="0" class="captcha textTransform col-md-6  text-white p-2 text-center ">
                                    <span>
                                        <img [src]="captchaText" width="100px" height="40px">
                                    </span>
                                </span>

                                <i tabindex="0" class="fa fa-refresh captcha-refresh ml-3 mt-2 pointer" (click)="getCaptcha()"></i>
                            </div>

                            <div class="err-msgs captchaeerror" *ngIf="loginForm.controls['captcha'].dirty || loginForm.controls['captcha'].value || loginForm.controls['captcha'].touched || isFormInvalid ">
                                <span *ngIf="loginForm.controls['captcha'].hasError('required')">Please enter below verification code.</span>
                                <!-- <span
                                    *ngIf="loginForm.controls['captcha'].hasError('captchaNotValidError') &&loginForm.controls['captcha'].value">Please
                                    enter valid verfication code.</span> -->
                            </div>
                        </div>
                        <!-- end captcha code -->
                    </form>
                </div>
                <div class="form-group mt-3">
                    <button class="btn btn-primary col-md-12" (click)="login()" type="submit">Login</button>
                    
                    <!-- <p class="forgot-password mt-2 text-body">Are you registred UDISE Teacher?
                        <a href="javascript:void(0)" (click)="openDialog()">Verify Here</a>
                    </p> -->
                    <br>
                    <br>
                    <br>
                </div>
            </div>
        </div>
    </div>
</div>

<p-dialog [(visible)]="display" appendTo="body" [modal]="true" [draggable]="false" class="cusomdialog-addfield" [style]="{width:'350px',minWidth:'70',minY:'70' }"
    [contentStyle]="{'overflow':'visible'}" [baseZIndex]="10000" [responsive]="true" [closable]="false">
    <p-header>
        Enter your registred UDISE Email Id
    </p-header>
    <form [formGroup]="emailForm">
        <div class="form-group">
            <div class="form-row">

                <div class="col-md-12">
                    <mat-form-field class="d-block">
                        <input matInput placeholder="Email" autocomplete="off" formControlName="email" required>
                    </mat-form-field>
                    <div class="err-msgs" *ngIf="emailForm.controls['email'].value || emailForm.controls['email'].dirty || emailForm.controls['email'].touched || isFormInvalid">
                        <span *ngIf="emailForm.controls['email'].hasError('required')">Please enter registered email.</span>
                        <span *ngIf="emailForm.controls['email'].hasError('pattern')">Please Enter Valid Email
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </form>


    <p-footer>
        <button type="submit" class="btn btn-sm btn-primary" (click)="emailVerification()" [disabled]="emailForm.invalid">Submit</button>
        <button type="button" class="btn btn-sm btn-light" (click)="hideDialog()">Cancel</button>
    </p-footer>

</p-dialog>
<div *ngIf="backdrop" class="backdrop"></div>